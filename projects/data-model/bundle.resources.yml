resources:
  jobs:
    main-data-model-job:
      name: main-data-model-job
      tasks:
        - task_key: bronze_cms_full
          existing_cluster_id: ${var.existing-cluster-id}
          notebook_task: 
            notebook_path: ./01. bronze/bronze_cms_full.py

        - task_key: bronze_psl_full
          existing_cluster_id: ${var.existing-cluster-id}
          notebook_task: 
            notebook_path: ./01. bronze/bronze_psl_full.py

        - task_key: bronze_cms_billing_agreement_order
          existing_cluster_id: ${var.existing-cluster-id}
          notebook_task: 
            notebook_path: ./01. bronze/bronze_cms_billing_agreement_order.py

        - task_key: bronze_cms_campaign_events
          existing_cluster_id: ${var.existing-cluster-id}
          notebook_task: 
            notebook_path: ./01. bronze/bronze_cms_campaign_events.py

        - task_key: silver_cms_full
          existing_cluster_id: ${var.existing-cluster-id}
          depends_on: 
            - task_key: bronze_cms_full
          notebook_task: 
            notebook_path: ./02. silver/silver_cms_full.py

        - task_key: silver_psl_full
          existing_cluster_id: ${var.existing-cluster-id}
          depends_on: 
            - task_key: bronze_psl_full
          notebook_task: 
            notebook_path: ./02. silver/silver_psl_full.py

        - task_key: silver_cms_billing_agreement_order
          existing_cluster_id: ${var.existing-cluster-id}
          depends_on: 
            - task_key: bronze_cms_billing_agreement_order
          notebook_task: 
            notebook_path: ./02. silver/silver_cms_billing_agreement_order.sql

        - task_key: silver_cms_campaign_events
          existing_cluster_id: ${var.existing-cluster-id}
          depends_on: 
            - task_key: bronze_cms_campaign_events
          notebook_task: 
            notebook_path: ./02. silver/silver_cms_campaign_events.sql
