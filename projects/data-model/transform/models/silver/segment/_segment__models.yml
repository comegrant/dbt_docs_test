# DOUCMENTATION: https://docs.getdbt.com/reference/model-properties

version: 2

models:
  - name: segment_javascript__update_subscription_step_viewed
    description: "Frontend events from when a customer starts to update their subscription"
    columns:
      - name: event_id_segment
        data_type: string
        description: "{{ doc('column__event_id_segment') }}"
        constraints:
          - type: primary_key
          - type: not_null
        data_tests:
          - unique
          - not_null

      - name: billing_agreement_id
        data_type: string
        description: "{{ doc('column__billing_agreement_id') }}"

      - name: company_id
        data_type: string
        description: "{{ doc('column__company_id') }}"
        constraints:
          - type: not_null
        data_tests:
          - not_null

      - name: change_subscription_details
        data_type: string
        description: "{{ doc('column__change_subscription_details') }}"
        constraints:
          - type: not_null
        data_tests:
          - not_null

      - name: source_created_at_segment
        data_type: timestamp
        description: "{{ doc('column__source_created_at_segment') }}"
        constraints:
          - type: not_null
        data_tests:
          - not_null
  - name: segment_javascript__update_subscription_step_completed
    description: "Frontend events from when a customer completes an update to their subscription"
    columns:
      - name: event_id_segment
        data_type: string
        description: "{{ doc('column__event_id_segment') }}"
        constraints:
          - type: primary_key
          - type: not_null
        data_tests:
          - unique
          - not_null

      - name: billing_agreement_id
        data_type: string
        description: "{{ doc('column__billing_agreement_id') }}"

      - name: company_id
        data_type: string
        description: "{{ doc('column__company_id') }}"
        constraints:
          - type: not_null
        data_tests:
          - not_null

      - name: changed_subscription_details
        data_type: string
        description: "{{ doc('column__changed_subscription_details') }}"
        constraints:
          - type: not_null
        data_tests:
          - not_null

      - name: source_created_at_segment
        data_type: timestamp
        description: "{{ doc('column__source_created_at_segment') }}"
        constraints:
          - type: not_null
        data_tests:
          - not_null
