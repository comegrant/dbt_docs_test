# DOCUMENTATION: https://docs.getdbt.com/reference/source-properties

version: 2

sources:
  - name: cms
    schema: bronze
    tables:
      - name: cms_company
        description: ""
        columns:
          - name: id
            data_type: string
            description: "{{ doc('column__company_id') }}"

          - name: company_name
            data_type: string
            description: ""

          - name: company_color
            data_type: string
            description: ""

          - name: email_sender
            data_type: string
            description: ""

          - name: official_name
            data_type: string
            description: ""

          - name: invoice_partner_id
            data_type: string
            description: ""

          - name: sms_token
            data_type: string
            description: ""

          - name: sms_sender_name
            data_type: string
            description: ""

          - name: avida_username
            data_type: string
            description: ""

          - name: avida_password
            data_type: string
            description: ""

          - name: reactivationsecret
            data_type: string
            description: ""

          - name: cutoff_day_time
            data_type: timestamp
            description: ""

          - name: cutoff_day
            data_type: int
            description: ""

          - name: crm_tool_key
            data_type: string
            description: ""

          - name: avida_client_id
            data_type: string
            description: ""

          - name: has_morgen_levering
            data_type: boolean
            description: ""

          - name: plan_and_go_endpoint
            data_type: string
            description: ""

          - name: weeks_in_advance
            data_type: int
            description: ""

          - name: payex_weeks_in_advance
            data_type: int
            description: ""

          - name: cutoff_weeks_in_advance
            data_type: int
            description: ""

          - name: days_from_cuttoff_to_delivery
            data_type: int
            description: ""

          - name: activecampaign_apikey
            data_type: string
            description: ""

          - name: due_days
            data_type: int
            description: ""

          - name: country_id
            data_type: string
            description: ""

          - name: delivery_interval_to
            data_type: int
            description: ""

          - name: delivery_interval_from
            data_type: int
            description: ""

          - name: has_loyaltyprogram
            data_type: boolean
            description: ""

          - name: activecampaign_endpoint
            data_type: string
            description: ""

          - name: reservation_amount
            data_type: decimal(19,4)
            description: ""

          - name: product_cycle_weekday_delta
            data_type: int
            description: ""

          - name: billing_address_street
            data_type: string
            description: ""

          - name: billing_address_city
            data_type: string
            description: ""

          - name: billing_address_postal_code
            data_type: string
            description: ""

          - name: billing_address_country
            data_type: string
            description: ""

          - name: first_day_of_week
            data_type: int
            description: ""

          - name: webpage_domain
            data_type: string
            description: ""

      - name: cms_country
        description: ""
        columns:
          - name: id
            data_type: string
            description: "{{ doc('column__country_id') }}"

          - name: name
            data_type: string
            description: ""

          - name: shortname
            data_type: string
            description: ""

          - name: phone_number_min_length
            data_type: int
            description: ""

          - name: phone_number_max_length
            data_type: int
            description: ""

          - name: phone_country_extension
            data_type: string
            description: ""

          - name: currency
            data_type: string
            description: ""

          - name: default_language_id
            data_type: int
            description: ""

          - name: ldap_connection_string
            data_type: string
            description: ""

          - name: ldap_user
            data_type: string
            description: ""

          - name: ldap_password
            data_type: string
            description: ""

          - name: ldap_directory_domain
            data_type: string
            description: ""

          - name: ldap_full_connection_string
            data_type: string
            description: ""

          - name: created_at
            data_type: timestamp
            description: "{{ doc('column__coredb_created_at') }}"
          
          - name: created_by
            data_type: string
            description: "{{ doc('column__coredb_created_by') }}"
          
          - name: updated_at
            data_type: timestamp
            description: "{{ doc('column__coredb_updated_at') }}"
          
          - name: updated_by
            data_type: string
            description: "{{ doc('column__coredb_updated_by') }}"

          - name: zip_code_length
            data_type: string
            description: ""

          - name: alpha2
            data_type: string
            description: ""

          - name: main_vat_rate
            data_type: decimal(10,5)
            description: ""

          - name: timezone
            data_type: string
            description: ""
      - name: cms_billing_agreement_order
        description: "{{ doc('table__cms_billing_agreement_orders') }}"
        columns:
          - name: id
            data_type: string
            description: "{{ doc('column__cms_order_id') }}"
            tests:
              - not_null
              - unique

          - name: agreement_id
            data_type: int
            description: "{{ doc('column__agreement_id') }}"
            tests:
              - not_null
          - name: week
            data_type: int
            description: "{{ doc('column__delivery_week') }}"
            tests:
              - not_null

          - name: year
            data_type: int
            description: "{{ doc('column__delivery_year') }}"
            tests:
              - not_null

          - name: shipping_address_id
            data_type: string
            description: ""

          - name: payment_method
            data_type: string
            description: "Contains a lot of strange values. Not sure how to deal with this one."

          - name: totalamount
            data_type: decimal(19,4)
            description: "Total value of the order. Are generated based on order line and has some bug. Should therefore not best trusted as the source of truth"

          - name: order_id
            data_type: bigint
            description: "{{ doc('column__ops_order_id') }}"

          - name: delivery_date
            data_type: date
            description: "Contains some null values, not obvious why"

          - name: transaction_id
            data_type: string
            description: ""

          - name: transactionnumber
            data_type: int
            description: ""

          - name: transaction_date
            data_type: timestamp
            description: ""

          - name: created_date
            data_type: timestamp
            description: "{{ doc('column__order_created_at') }}"

          - name: invoice_status
            data_type: smallint
            description: ""

          - name: invoice_status_date
            data_type: date
            description: ""

          - name: senttoinvoicepartner
            data_type: boolean
            description: ""

          - name: sumoforderlinesprice
            data_type: decimal(19,4)
            description: "Sum of the unit prices for the order before VAT. Are generated based on order line and has some bugs. Should therefore not be trusted as the source of truth"

          - name: usertype
            data_type: string
            description: "{{ doc('column__user_type') }}"

          - name: invoice_data_create
            data_type: timestamp
            description: ""

          - name: billing_address_id
            data_type: string
            description: ""

          - name: version_shippingaddress
            data_type: int
            description: ""

          - name: version_billingaddress
            data_type: int
            description: ""

          - name: order_type
            data_type: string
            description: "{{ doc('column__order_type_id') }}"

          - name: payment_partner_id
            data_type: string
            description: ""

          - name: invoice_processed
            data_type: int
            description: ""

          - name: order_campaign_id
            data_type: string
            description: ""

          - name: order_status_id
            data_type: string
            description: "{{ doc('column__order_status_id') }}"

          - name: invoice_processed_at
            data_type: timestamp
            description: ""

          - name: timeblock
            data_type: int
            description: ""

          - name: original_timeblock
            data_type: int
            description: ""

          - name: cutoff_date
            data_type: timestamp
            description: ""

          - name: has_recipe_leaflets
            data_type: boolean
            description: "{{ doc('column__order_has_recipe_leaflets') }}"
      - name: cms_billing_agreement_order_line
        description: "{{ doc('table__cms_billing_agreement_order_lines') }}"
        columns:
          - name: id
            data_type: string
            description: "{{ doc('column__order_line_id') }}"
            tests:
              - not_null
              - unique

          - name: agreement_order_id
            data_type: string
            description: "{{ doc('column__cms_order_id') }}"
            tests:
              - not_null

          - name: variation_id
            data_type: string
            description: "{{ doc('column__product_variation_id') }}"
            tests:
              - not_null

          - name: variation_qty
            data_type: int
            description: "{{ doc('column__variation_qty') }}"
            tests:
              - not_null

          - name: extra_id
            data_type: string
            description: "Deprecated. Field only existed for Godtlevert in 2026"

          - name: extra_qty
            data_type: int
            description: "Deprecated. Field only existed for Godtlevert in 2026"

          - name: price
            data_type: decimal(20,6)
            description: "{{ doc('column__order_line_unit_price_ex_vat') }}"

          - name: vat
            data_type: int
            description: "{{ doc('column__order_line_vat_percent') }}"

          - name: typeofline
            data_type: string
            description: "{{ doc('column__order_line_type_name') }}"
      - name: cms_billing_agreement_order_status
        description: ""
        columns:
          - name: id
            data_type: string
            description: "{{ doc('column__order_status_id') }}"

          - name: name
            data_type: string
            description: "{{ doc('column__order_status_name') }}"

          - name: can_be_cancelled
            data_type: boolean
            description: "{{ doc('column__order_status_can_be_cancelled') }}"

      - name: cms_order_type
        description: ""
        columns:
          - name: id
            data_type: string
            description: "{{ doc('column__order_type_id') }}"

          - name: name
            data_type: string
            description: "{{ doc('column__order_type_name') }}"

          - name: created_at
            data_type: timestamp
            description: "{{ doc('column__coredb_created_at') }}"
          
          - name: created_by
            data_type: string
            description: "{{ doc('column__coredb_created_by') }}"
          
          - name: updated_at
            data_type: timestamp
            description: "{{ doc('column__coredb_updated_at') }}"
          
          - name: updated_by
            data_type: string
            description: "{{ doc('column__coredb_updated_by') }}"

          - name: is_direct_order
            data_type: boolean
            description: "{{ doc('column__order_type_is_direct_order') }}"

          - name: allow_anonymous
            data_type: boolean
            description: "{{ doc('column__order_type_allow_anonymous') }}"

          - name: is_direct_payment
            data_type: boolean
            description: "{{ doc('column__order_type_is_direct_payment') }}"

          - name: invoice_type_id
            data_type: string
            description: ""

      - name: cms_billing_agreement
        description: ""
        columns:
          - name: agreement_id
            data_type: int
            description: ""

          - name: customer_id
            data_type: string
            description: ""

          - name: company_id
            data_type: string
            description: ""

          - name: status
            data_type: int
            description: ""

          - name: start_date
            data_type: timestamp
            description: ""

          - name: method_code
            data_type: string
            description: ""

          - name: default_cc
            data_type: string
            description: ""

          - name: source
            data_type: string
            description: ""

          - name: sales_person
            data_type: string
            description: ""

          - name: sales_point_id
            data_type: int
            description: ""

          - name: payment_partner_id
            data_type: string
            description: ""

          - name: applicant_id
            data_type: string
            description: ""

          - name: trigger_registration_process
            data_type: string
            description: ""

          - name: addresses_copied
            data_type: boolean
            description: ""

          - name: facebook_id
            data_type: string
            description: ""

          - name: created_at
            data_type: timestamp
            description: "{{ doc('column__coredb_created_at') }}"
          
          - name: created_by
            data_type: string
            description: "{{ doc('column__coredb_created_by') }}"
          
          - name: updated_at
            data_type: timestamp
            description: "{{ doc('column__coredb_updated_at') }}"
          
          - name: updated_by
            data_type: string
            description: "{{ doc('column__coredb_updated_by') }}"

      - name: cms_billing_agreement_status
        description: ""
        columns:
          - name: status_id
            data_type: string
            description: ""

          - name: status_description
            data_type: string
            description: ""

          - name: created_at
            data_type: timestamp
            description: "{{ doc('column__coredb_created_at') }}"
          
          - name: created_by
            data_type: string
            description: "{{ doc('column__coredb_created_by') }}"
          
          - name: updated_at
            data_type: timestamp
            description: "{{ doc('column__coredb_updated_at') }}"
          
          - name: updated_by
            data_type: string
            description: "{{ doc('column__coredb_updated_by') }}"

      - name: cms_billing_agreement_addon_subscriptions
        description: "{{ doc('table__billing_agreement_addon_subscriptions') }}"
        columns:
          - name: agreement_id
            data_type: int
            description: ""

          - name: addon_subscriptions_id
            data_type: string
            description: ""

          - name: company_id
            data_type: string
            description: ""

          - name: is_active
            data_type: boolean
            description: ""

          - name: created_at
            data_type: timestamp
            description: "{{ doc('column__coredb_created_at') }}"
          
          - name: created_by
            data_type: string
            description: "{{ doc('column__coredb_created_by') }}"
          
          - name: updated_at
            data_type: timestamp
            description: "{{ doc('column__coredb_updated_at') }}"
          
          - name: updated_by
            data_type: string
            description: "{{ doc('column__coredb_updated_by') }}"

          - name: start_date
            data_type: timestamp
            description: ""

          - name: end_date
            data_type: timestamp
            description: ""

          - name: period_start
            data_type: timestamp
            description: ""

          - name: period_end
            data_type: timestamp
            description: ""

      - name: cms_addon_subscriptions
        description: "{{ doc('table__addon_subscriptions') }}"
        columns:
          - name: id
            data_type: string
            description: ""

          - name: company_id
            data_type: string
            description: ""

          - name: name
            data_type: string
            description: ""

          - name: variation_id
            data_type: string
            description: ""

          - name: created_at
            data_type: timestamp
            description: ""

          - name: created_by
            data_type: string
            description: ""

          - name: updated_at
            data_type: timestamp
            description: ""

          - name: updated_by
            data_type: string
            description: ""

      - name: cms_loyalty_agreement_ledger
        description: ""
        columns:
          - name: agreement_id
            data_type: int
            description: ""
          - name: event_id
            data_type: string
            description: ""
          - name: accrued_points
            data_type: int
            description: ""
          - name: current_level
            data_type: string
            description: ""
          - name: timestamp
            data_type: timestamp
            description: ""
          - name: id
            data_type: string
            description: ""
      
      - name: cms_loyalty_level
        description: ""
