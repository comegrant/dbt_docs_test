# Companies

{% docs column__company_id %}

The primary key of the company in the CMS database. 

{% enddocs %}

{% docs column__company_name %}

The name of the company.

{% enddocs %}

# Countries

{% docs column__country_id %}

The primary key of the country in the CMS database. 

{% enddocs %}

{% docs column__language_id %}

The primary key of the language id in the cms database. Used to link to the translation tables.

{% enddocs %}

{% docs column__country_name %}

The name of the country.

{% enddocs %}

{% docs column__country_currency %}

The currency code of the currency used in the country.

{% enddocs %}

# Billing Agreement Baskets
{% docs column__billing_agreement_basket_id %}

The primary key of the basket in the CMS database. 

{% enddocs %}

{% docs column__shipping_address_id_basket %}

The id of selected shipping address in the subscription of the billing agreement.

{% enddocs %}

{% docs column__timeblock_id_basket %}

The id of the subscribed timeblock of the billing agreement.

{% enddocs %}

{% docs column__is_default_basket %}

Always 1. This column exists to support the potential of letting customers have multiple baskets.

{% enddocs %}

{% docs column__is_active_basket %}

Always 1. This column exists to support the potential of letting customers have multiple baskets.

{% enddocs %}

# Billing Agreement Basket Products

{% docs column__billing_agreement_basket_product_id %}

The primary key of the basket product in the CMS database. 

{% enddocs %}

{% docs column__is_extra_basket_product %}

[Legacy: 2017-2020] 
Previously it was not possible to have more than 1 quantity. So if a customer subscribed to an add-on product like 'Fruktkassen' for Godtlevert the row with 'Fruktkasse' product_id this is_extra column would equal 1. (Only exist rows for 2018 - 2019)

{% enddocs %}


# Billing Agreement Basket Deviations
{% docs column__billing_agreement_basket_deviation_id %}

The primary key of the basket deviation in the CMS database. 

{% enddocs %}

{% docs column__is_active_basket_deviation %}

The most recent basket deviation for a billing agreement. I.e., what's currently in their basket.

{% enddocs %}

# Billing Agreement Basket Deviation Origins
{% docs column__billing_agreement_basket_deviation_origin_id %}

The primary key of the basket deviation origin in the CMS database. 

{% enddocs %}

{% docs column__basket_deviation_origin_source_name %}

The name of the origin as it is in the CMS database.
* `Normal`: Customer, Customer Service or Sales
* `Recommendations`: Mealselector
* `Onesub - Recommendations`: Preselector
* `No Deviation`: When there has been no deviation, e.i. missing origin

{% enddocs %}

{% docs column__basket_deviation_origin_name %}

A more user friendly name of the origin of the deviation.
* `Normal`: Customer, Customer Service or Sales
* `Mealselector`: Mealselector
* `Preselector`: Preselector
* `No Deviation`: When there has been no deviation from the preset basket of the customer. I.e., there exist no rows for the basket in the deviation tables.

{% enddocs %}

{% docs column__preselector_category %}

Categorizes the origins to be preselector or not preselector.
* `Not Preselector`: Normal, Mealselector or no deviation
* `Preselector`: Preselector

{% enddocs %}

# Billing Agreement Basket Deviation Products
{% docs column__billing_agreement_basket_deviation_product_id %}

The primary key of the basket deviation product in the CMS database.

{% enddocs %}

# Order Delivery Types
{% docs column__delivery_week_type_id %}

The primary key of the order delivery week type in the CMS database. 

{% enddocs %}

{% docs column__delivery_week_type_name %}

The different intervals of weekly delivery: 
* Even weeks
* Odd-numbered weeks
* Every week

{% enddocs %}

# Billing Agreement Orders

{% docs column__billing_agreement_order_id %}

This is the primary key in the CMS database for each placed order. For historical orders that have not been fetched directly from CMS and are missing a billing_agreement_order_id its has been generated by taking the MD5-hash of a unique column in the table.

{% enddocs %}

{% docs column__ops_order_id %}

This is the primary key in the OPS database for each placed order. Is null if there was no order generated in OPS. This could for instance be if a customer only buy a gift card or an order was cancelled. 

{% enddocs %}

{% docs column__source_created_at_orders %}

The date the order was created. Not meaning when the order was initially placed, but when it was generated by CMS. This is usually at cutoff for regular orders, but for gift card or special campaigns such as easter lamb and so on it does not follow cut off. 

{% enddocs %}

{% docs column__has_recipe_leaflets %}

Flag to indiacte if order has printed recipes.

Business context: From February 2024 customers got the option to opt out of printed recipes. 

{% enddocs %}

# Billing Agreement Order Lines

{% docs column__billing_agreement_order_line_id %}

This is the primary key of the order line in CMS.

{% enddocs %}

{% docs column__order_line_type_name %}

The different type of order lines.

{% enddocs %}

{% docs column__product_variation_quantity %}

Quantity ordered of the variation.

{% enddocs %}

{% docs column__unit_price_ex_vat %}

The unit price of the ordered product variation ex vat.

{% enddocs %}

{% docs column__unit_price_inc_vat %}

The unit price of the ordered product variation for inc vat.

{% enddocs %}

{% docs column__total_amount_ex_vat %}

The total amount of the order line ex vat. I.e. unit price multiplied with quantity of the variation.

{% enddocs %}

{% docs column__total_amount_inc_vat %}

The total amount of the order line inc vat. I.e. unit price multiplied with quantity of the variation.

{% enddocs %}

{% docs column__vat %}

The vat multiplier of the order.

{% enddocs %}

# Billing Agreement Order Statuses

{% docs column__order_status_id %}

The primary key of the order status in CMS.

{% enddocs %}

{% docs column__order_status_name %}
Need to figure this out

The status of the order:
* `Created`: Order is generated in CMS. Can be cancelled.
* `Processing`: Order is moved to logistics. Payment reduction (PRP) can be added and order can be cancelled.
* `Hold`: ?? Can be cancelled ??
* `Waiting`: ??
* `Cancelled`: Order is cancelled. ...
* `Finished`: Order is locked. 

{% enddocs %}

{% docs column__can_be_cancelled %}

Is `1` if the order is in a state where it can be cancelled.

{% enddocs %}

# Order Types
{% docs column__order_type_id %}

This is the primary key of the order type in CMS.

{% enddocs %}

{% docs column__order_type_name %}

The name of the order type:
* `Order After Registration`
* `Daily Direct Order`
* `Loyalty`
* `Recurring`
* `Campaign`
* `Gift Card`
* `Orders after cutoff`

{% enddocs %}

{% docs column__is_direct_order %}

Orders that are not generated in relation to cut-off. 

{% enddocs %}

{% docs column__allows_anonymous %}

Is one if the order can be placed without beeing a registrered customer. Such as for gift cards.

{% enddocs %}

{% docs column__is_direct_payment %}

Is one if the order is paid for directly while purchasing. Such as for gift cards.

{% enddocs %}

# Billing Agreements

{% docs column__billing_agreement_id %}

The id of an billing agreement.

{% enddocs %}

{% docs column__sales_point_id %}

Ids used by commercial to evaluate campaigns.

{% enddocs %}

{% docs column__payment_method %}

Selected payment solution. 

{% enddocs %}

{% docs column__signup_source %}

How the customer signed up:
* `Sales`: Joined through a sales channel.
* `Web`: Customer signed up through the website.
* `Flex`: Legacy. Belongs to Godtlevert Flex which existed in 2019 and 2020.

{% enddocs %}

{% docs column__signup_salesperson %}

The sales person that signed up the billing agreement.

{% enddocs %}

{% docs column__signup_date %}

The date the customer signed up

{% enddocs %}

{% docs column__signup_year_day %}

The day of the year the customer signed up

{% enddocs %}

{% docs column__signup_month_day %}

The day of the month the customer signed up

{% enddocs %}

{% docs column__signup_week_day %}

The day of the week the customer signed up

{% enddocs %}

{% docs column__signup_week %}

The week the customer signed up

{% enddocs %}

{% docs column__signup_month %}

The month the customer signed up

{% enddocs %}

{% docs column__signup_quarter %}

The quarter the customer signed up

{% enddocs %}

{% docs column__signup_year %}

The year the customer signed up

{% enddocs %}

{% docs column__start_date %}

Date of first delivery the customer chose when signing up. They can change this after signing up.

{% enddocs %}

{% docs column__start_year_day %}

The day of the year for the first delivery date the customer chose when signing up.

{% enddocs %}

{% docs column__start_month_day %}

The day of the month for the first delivery date the customer chose when signing up.

{% enddocs %}

{% docs column__start_week_day %}

The day of the week for the first delivery date the customer chose when signing up.

{% enddocs %}

{% docs column__start_week %}

The week of the first delivery date the customer chose when signing up.

{% enddocs %}

{% docs column__start_month %}

The month of the first delivery date the customer chose when signing up.

{% enddocs %}

{% docs column__start_quarter %}

The quarter of the first delivery date the customer chose when signing up.

{% enddocs %}

{% docs column__start_year %}

The year of the first delivery date the customer chose when signing up.

{% enddocs %}

{% docs column__signup_at %}

The timestamp the customer signed up.

{% enddocs %}


# Billing Agreement Statuses
{% docs column__billing_agreement_status_id %}

This is the primary key of the billing agreement status in CMS.

{% enddocs %}

{% docs column__billing_agreement_status_name %}

The name of the status of the billing agreement

{% enddocs %}


# Billing Agreement Addon Subscriptions

{% docs column__is_active_addon_subscription %}

True if the addon subscription is active for the billing agreement. False if its not active.

{% enddocs %}

# Addon Subscriptions
{% docs column__addon_subscription_id %}

This is the primary key of the addon subscription in CMS.

{% enddocs %}

{% docs column__addon_subscription_name %}

The name of the addon subscription.

{% enddocs %}

# Loyalty Levels
{% docs column__loyalty_level_id %}

This is the primary key of the loyalty level in CMS.

{% enddocs %}

{% docs column__loyalty_level_number %}

The number of the loyalty level (1-4) where by 1 is the entry level and 4 is the last obtainable level.

{% enddocs %}

# Loyalty Agreement Ledger
{% docs column__loyalty_agreement_ledger_id %}

This is the primary key of the loyalty level ledger in CMS.

{% enddocs %}

{% docs column__accrued_points %}

Accumulated points since last point reset. 

{% enddocs %}

{% docs column__points_generated_at %}

When the customer recieved the points.

{% enddocs %}

# Loyalty Events

{% docs column__loyalty_event_id %}

The unique id of the loyalty event in the CMS database. 

{% enddocs %}

{% docs column__loyalty_event_name %}

The name of the loyalty event.

{% enddocs %}

# Preferences

{% docs column__preference_id %}

This is the primary key of the preference table in CMS.

{% enddocs %}

{% docs column__preference_type_id %}

This is the primary key of the preference type table in CMS.

{% enddocs %}

{% docs column__preference_name_general %}

The general name of preferences and attributes that a customer can choose. Common for the companies and countries.
For preference names specific for each company use instead the field called `preference_name`. 

{% enddocs %}

{% docs column__preference_description_general %}

The general description of preferences and attributes that a customer can choose. Common for the companies and countries. For preference descriptions specific for each company use instead the field called `preference_description`. 

{% enddocs %}

{% docs column__is_allergen %}

Is true when the corresponding preference is an allergen preference. 

{% enddocs %}

# Preference Types

{% docs column__preference_type_name %}

Type of preference (Concept, Taste, Optimization Preference or Selector Preference). This can be used across the companies.

{% enddocs %}

{% docs column__preference_type_description %}

Description of the preference type. This can be used across the companies.

{% enddocs %}

# Preferences Companies

{% docs column__preference_name %}

The name of preferences and attributes that a customer can choose. Specific for each company. For the general name that can be used across companies, use instead the field called `preference_name_general`. 

{% enddocs %}

{% docs column__preference_description %}

The description of preferences and attributes that a customer can choose. Specific for each company. For the general description that can be used across companies, use instead the field called `preference_description_general`. 

{% enddocs %}

{% docs column__is_active_preference %}

True if the preference is active for the customer to choose. False if its not active.

{% enddocs %}

# Preference Attribute Values

{% docs column__attribute_id_preference %}

The preferences can have different type of attributes. This id corresponds what the attribute is. E.g. `attribute_id = '680D1B8A-F967-4713-A270-8E30D683F4B8'` is the attribute for linked mealboxes. 

{% enddocs %}

{% docs column__attribute_value_preference %}

The value for the selcted attribute and preference. E.g. if the selected attribute is linked mealboxes and the preference is "Inspirational", then this value will be the mealbox product id that is linked to the preference "Inspirational". 

{% enddocs %}

# Register Baskets

{% docs column__register_info_basket_id %}

This is the primary key of the register_info_basket table in CMS.

{% enddocs %}

# Register Products

{% docs column__register_info_product_id %}

This is the primary key of the register_info_products table in CMS.

{% enddocs %}

# Billing Agreements Preferences List
{% docs column__preference_id_list %}

List of preference IDs that belong to the same billing agreement. 

{% enddocs %}

{% docs column__billing_agreement_preference_id_list %}

List of the unique ids in the source table billing_agreement_preference table, that belong to the same billing agreement.

{% enddocs %}

{% docs column__basket_products_list %}

A list of basket products objects based on the source table billing_agreement_basket_product.Each object contain the following:
* product_variation_id
* product_variation_quantity
* is_extra flag

{% enddocs %}

# Onesub Beta Agreements
{% docs column__is_internal %}

Billing Agreements of employees that was a part of the internal Onesub Launch.

{% enddocs %}

# Billing Agreement Basket Scheduler

{% docs column__billing_agreement_basket_scheduler_id %}

The ID of the basket scheduler in the CMS database.

{% enddocs %}

{% docs column__billing_agreement_basket_menu_week_id %}

The unique identifier for a specific menu week for a billing agreement basket. This is a composite key made up of the billing agreement basket ID, menu year and menu week.

{% enddocs %}


{% docs column__timeblock %}

The id of the timeblock as it would appear in the OPS system.

{% enddocs %}

{% docs has_delivery %}

True if the created schedule will make a delivery, else False. Used to handle cancelled deliveries for a menu week.

{% enddocs %}

# Billing Agreements Consents
{% docs column__billing_agreement_consent_id %}

A concatenation of billing_agreement_id and consent_id. Is unique for the source system data, but need to be combined with valid_from to be unique as we snapshot the table to capture history.

{% enddocs %}

{% docs column__is_accepted_consent %}

Is true if the consent are currently accepted. Becomes false if the customer removes the consent again. If the customer has never accepted the consent a row in the table would never exist.

{% enddocs %}

# Consents
{% docs column__consent_id %}

The unique id of the consent in CMS.

{% enddocs %}

{% docs column__consent_name %}

The name of the consent. E.g. "Accepted SMS communication" or "Accepted Data Retention Consent".

{% enddocs %}

# Consent Categories

{% docs column__consent_category_id %}

The unique id of the consent category in CMS.

{% enddocs %}

{% docs column__consent_category_name %}

The name of the consent category. E.g. "Accept communication" or "Allergy".

{% enddocs %}
