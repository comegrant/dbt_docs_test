# DOUCMENTATION: https://docs.getdbt.com/reference/model-properties

version: 2

models:
  - name: postgres_net_backend__preferences_updated
    description: "History of concept and taste preferences updated by users themselves."
    columns:
      - name: preference_updated_id
        data_type: varchar(1024)
        description: "{{ doc('column__preference_updated_id') }}"
        constraints:
          - type: primary_key
          - type: not_null
        data_tests:
          - unique
          - not_null

      - name: ce_preference_updated_id
        data_type: varchar(1024)
        description: "{{ doc('column__ce_preference_updated_id') }}"
        constraints:
          - type: not_null
        data_tests:
          - not_null

      - name: billing_agreement_id
        data_type: bigint
        description: "{{ doc('column__billing_agreement_id') }}"
        constraints:
          - type: not_null
        data_tests:
          - not_null

      - name: company_id
        data_type: string
        description: "{{ doc('column__company_id') }}"
        constraints:
          - type: not_null
        data_tests:
          - not_null

      - name: concept_preference_id
        data_type: string
        description: "{{ doc('column__concept_preference_id') }}"
        constraints:
          - type: not_null
        data_tests:
          - not_null

      - name: concept_preference_list
        data_type: string
        description: "{{ doc('column__concept_preference_list') }}"

      - name: taste_preference_list
        data_type: string
        description: "{{ doc('column__taste_preference_list') }}"

      - name: source_updated_at
        data_type: timestamp
        description: "{{ doc('column__source_updated_at') }}"
        constraints:
          - type: not_null
        data_tests:
          - not_null

  - name: postgres_javascript__update_subscription_step_viewed
    description: "Frontend events from when a customer starts to update their subscription"
    columns:
      - name: event_id_segment
        data_type: varchar(1024)
        description: "{{ doc('column__event_id_segment') }}"
        constraints:
          - type: primary_key
          - type: not_null
        data_tests:
          - unique
          - not_null

      - name: billing_agreement_id
        data_type: string
        description: "{{ doc('column__billing_agreement_id') }}"

      - name: company_id
        data_type: string
        description: "{{ doc('column__company_id') }}"
        constraints:
          - type: not_null
        data_tests:
          - not_null

      - name: change_subscription_details
        data_type: string
        description: "{{ doc('column__change_subscription_details') }}"
        constraints:
          - type: not_null
        data_tests:
          - not_null

      - name: source_created_at_segment
        data_type: timestamp
        description: "{{ doc('column__source_created_at_segment') }}"
        constraints:
          - type: not_null
        data_tests:
          - not_null


  - name: postgres_javascript__update_subscription_step_completed
    description: "Frontend events from when a customer completes an update to their subscription"
    columns:
      - name: event_id_segment
        data_type: varchar(1024)
        description: "{{ doc('column__event_id_segment') }}"
        constraints:
          - type: primary_key
          - type: not_null
        data_tests:
          - unique
          - not_null

      - name: billing_agreement_id
        data_type: string
        description: "{{ doc('column__billing_agreement_id') }}"

      - name: company_id
        data_type: string
        description: "{{ doc('column__company_id') }}"
        constraints:
          - type: not_null
        data_tests:
          - not_null

      - name: changed_subscription_details
        data_type: string
        description: "{{ doc('column__changed_subscription_details') }}"
        constraints:
          - type: not_null
        data_tests:
          - not_null

      - name: source_created_at_segment
        data_type: timestamp
        description: "{{ doc('column__source_created_at_segment') }}"
        constraints:
          - type: not_null
        data_tests:
          - not_null
