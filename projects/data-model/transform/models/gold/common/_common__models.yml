# DOCUMENTATION: https://docs.getdbt.com/reference/model-properties

version: 2

models:
  - name: dim_companies
    description: ""
    latest_version: 1
    config:
      alias: dim_companies
      contract:
        enforced: true

    columns:
      - name: pk_dim_companies
        description: "{{ doc('column__pk_dim_companies') }}"
        data_type: string
        constraints:
          - type: primary_key
          - type: not_null
        data_tests:
          - unique
          - not_null

      - name: company_id
        description: "{{ doc('column__company_id') }}"
        data_type: string
        data_tests:
          - not_null

      - name: language_id
        description: "{{ doc('column__language_id') }}"
        data_type: int
        data_tests:
          - not_null

      - name: company_name
        description: "{{ doc('column__company_name') }}"
        data_type: string
        data_tests:
          - not_null

      - name: country_name
        description: "{{ doc('column__country_name') }}"
        data_type: string
        data_tests:
          - not_null

      - name: country_currency
        description: "{{ doc('column__country_currency') }}"
        data_type: string
        data_tests:
          - not_null

      - name: main_vat_rate
        data_type: decimal(38,2)
        description: "{{ doc('column__main_vat_rate') }}"
        data_tests:
          - not_null

    versions:
      - v: 1

  - name: dim_dates
    description: ""
    latest_version: 1
    config:
      alias: dim_dates
      contract:
        enforced: true

    columns:

      - name: pk_dim_dates
        data_type: int
        description: "{{ doc('column__pk_dim_dates') }}"
        constraints:
          - type: primary_key
          - type: not_null
        data_tests:
          - unique
          - not_null

      - name: date
        data_type: date
        description: "{{ doc('column__date') }}"
        constraints:
          - type: not_null
        data_tests:
          - not_null

      - name: calendar_year
        data_type: int
        description: "{{ doc('column__calendar_year') }}"
        constraints:
          - type: not_null
        data_tests:
          - not_null

      - name: year_of_calendar_week
        data_type: int
        description: "{{ doc('column__year_of_calendar_week') }}"
        constraints:
          - type: not_null
        data_tests:
          - not_null

      - name: calendar_quarter
        data_type: int
        description: "{{ doc('column__calendar_quarter') }}"
        constraints:
          - type: not_null
        data_tests:
          - not_null

      - name: calendar_month_number
        data_type: int
        description: "{{ doc('column__calendar_month_number') }}"
        constraints:
          - type: not_null
        data_tests:
          - not_null

      - name: calendar_month_name
        data_type: string
        description: "{{ doc('column__calendar_month_name') }}"
        constraints:
          - type: not_null
        data_tests:
          - not_null

      - name: calendar_week
        data_type: int
        description: "{{ doc('column__calendar_week') }}"
        constraints:
          - type: not_null
        data_tests:
          - not_null

      - name: financial_year
        data_type: int
        description: "{{ doc('column__financial_year') }}"
        constraints:
          - type: not_null
        data_tests:
          - not_null

      - name: financial_quarter
        data_type: int
        description: "{{ doc('column__financial_quarter') }}"
        constraints:
          - type: not_null
        data_tests:
          - not_null

      - name: financial_month_number
        data_type: int
        description: "{{ doc('column__financial_month_number') }}"
        constraints:
          - type: not_null
        data_tests:
          - not_null

      - name: financial_month_name
        data_type: string
        description: "{{ doc('column__financial_month_name') }}"
        constraints:
          - type: not_null
        data_tests:
          - not_null

      - name: financial_week
        data_type: int
        description: "{{ doc('column__financial_week') }}"
        constraints:
          - type: not_null
        data_tests:
          - not_null

      - name: day_of_week
        data_type: int
        description: "{{ doc('column__day_of_week') }}"
        constraints:
          - type: not_null
        data_tests:
          - not_null

      - name: weekday_name
        data_type: string
        description: "{{ doc('column__weekday_name') }}"
        constraints:
          - type: not_null
        data_tests:
          - not_null

      - name: monday_date
        data_type: date
        description: "{{ doc('column__monday_date') }}"
        constraints:
          - type: not_null
        data_tests:
          - not_null

      - name: monday_date_previous_week
        data_type: date
        description: "{{ doc('column__monday_date_previous_week') }}"
        constraints:
          - type: not_null
        data_tests:
          - not_null

      - name: day_of_financial_year_number
        data_type: int
        description: "{{ doc('column__day_of_financial_year_number') }}"
        constraints:
          - type: not_null
        data_tests:
          - not_null

      - name: day_of_financial_quarter_number
        data_type: int
        description: "{{ doc('column__day_of_financial_quarter_number') }}"
        constraints:
          - type: not_null
        data_tests:
          - not_null

      - name: day_of_financial_month_number
        data_type: int
        description: "{{ doc('column__day_of_financial_month_number') }}"
        constraints:
          - type: not_null
        data_tests:
          - not_null

      - name: is_future_date
        data_type: boolean
        constraints:
          - type: not_null
        data_tests:
          - not_null

      - name: is_future_menu_week
        data_type: boolean
        constraints:
          - type: not_null
        data_tests:
          - not_null

      - name: weeks_offset_from_current_monday
        data_type: bigint
        description: "{{ doc('column__weeks_offset_from_current_monday') }}"
        constraints:
          - type: not_null
        data_tests:
          - not_null

    versions:
      - v: 1

  - name: dim_time
    description: "Dimension table for time-related attributes"
    latest_version: 1
    config:
      alias: dim_time
      contract:
        enforced: true

    columns:
      - name: pk_dim_time
        description: "{{ doc('column__pk_dim_time') }}"
        data_type: string
        constraints:
          - type: primary_key
          - type: not_null
        data_tests:
          - unique
          - not_null

      - name: hour
        description: "{{ doc('column__hour') }}"
        data_type: int
        data_tests:
          - not_null

      - name: minute
        description: "{{ doc('column__minute') }}"
        data_type: int
        data_tests:
          - not_null

    versions:
      - v: 1

  - name: dim_periods_since
    description: "Contains the number of days, weeks, months, quarters, and years since a given date"
    latest_version: 1
    config:
      alias: dim_periods_since
      contract:
        enforced: true

    columns:
      - name: pk_dim_periods_since
        data_type: int
        description: "{{ doc('column__pk_dim_periods_since') }}"
        constraints:
          - type: primary_key
          - type: not_null
        data_tests:
          - unique
          - not_null

      - name: days_since
        data_type: int
        description: "{{ doc('column__days_since') }}"
        data_tests:
          - not_null

      - name: weeks_since
        data_type: int
        description: "{{ doc('column__weeks_since') }}"
        data_tests:
          - not_null

      - name: months_since
        data_type: int
        description: "{{ doc('column__months_since') }}"
        data_tests:
          - not_null

      - name: quarters_since
        data_type: int
        description: "{{ doc('column__quarters_since') }}"
        data_tests:
          - not_null

      - name: years_since
        data_type: int
        description: "{{ doc('column__years_since') }}"
        data_tests:
          - not_null

    versions:
      - v: 1
