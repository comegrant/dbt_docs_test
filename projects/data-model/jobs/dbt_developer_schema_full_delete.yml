resources:
  jobs:
    dbt_developer_schema_full_delete:
      name: dbt_developer_schema_full_delete

      environments:
        - environment_key: dbt-default
          spec:
            client: "1"
            dependencies:
              - dbt-databricks>=1.0.0,<2.0.0

      tasks: 

        - task_key: delete_silver_tables
          notebook_task: 
            notebook_path: ../useful/dbt_development/bulk_delete_tables.py
            base_parameters:
              layer: silver

        - task_key: delete_intermediate_tables
          notebook_task: 
            notebook_path: ../useful/dbt_development/bulk_delete_tables.py
            base_parameters:
              layer: intermediate

        - task_key: delete_gold_tables
          notebook_task: 
            notebook_path: ../useful/dbt_development/bulk_delete_tables.py
            base_parameters:
              layer: gold

        - task_key: delete_mlgold_tables
          notebook_task: 
            notebook_path: ../useful/dbt_development/bulk_delete_tables.py
            base_parameters:
              layer: mlgold

      parameters:
        - name: firstname_lastname
          default: ""

      edit_mode: EDITABLE