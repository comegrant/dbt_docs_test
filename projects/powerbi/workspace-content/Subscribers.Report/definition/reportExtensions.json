{
  "$schema": "https://developer.microsoft.com/json-schemas/fabric/item/report/definition/reportExtension/1.0.0/schema.json",
  "name": "extension",
  "entities": [
    {
      "name": "Order Measures",
      "measures": [
        {
          "name": "Share of Orders With Meal Adjustments",
          "dataType": "Double",
          "expression": "\n\n[Number of Orders with Adjusted Meals]/[Number of Orders]",
          "formatString": "0.00\\ %;-0.00\\ %;0.00\\ %",
          "references": {
            "measures": [
              {
                "entity": "Order Measures",
                "name": "Number of Orders with Adjusted Meals"
              },
              {
                "entity": "Order Measures",
                "name": "Number of Orders"
              }
            ]
          }
        },
        {
          "name": "Share of Orders With Decreased Meals",
          "dataType": "Double",
          "expression": "\n\n [Number of Orders with Decreased Meals]/[Number of Orders]",
          "formatString": "0.00\\ %;-0.00\\ %;0.00\\ %",
          "references": {
            "measures": [
              {
                "entity": "Order Measures",
                "name": "Number of Orders with Decreased Meals"
              },
              {
                "entity": "Order Measures",
                "name": "Number of Orders"
              }
            ]
          }
        },
        {
          "name": "Share of Orders With Increased Meals",
          "dataType": "Double",
          "expression": "\n\n [Number of Orders with Increased Meals]/[Number of Orders]",
          "formatString": "0.00\\ %;-0.00\\ %;0.00\\ %",
          "references": {
            "measures": [
              {
                "entity": "Order Measures",
                "name": "Number of Orders with Increased Meals"
              },
              {
                "entity": "Order Measures",
                "name": "Number of Orders"
              }
            ]
          }
        },
        {
          "name": "Share of Orders With Portion Adjustments",
          "dataType": "Double",
          "expression": "\n\n[Number of Orders with Adjusted Portions]/[Number of Orders]",
          "formatString": "0.00\\ %;-0.00\\ %;0.00\\ %",
          "references": {
            "measures": [
              {
                "entity": "Order Measures",
                "name": "Number of Orders with Adjusted Portions"
              },
              {
                "entity": "Order Measures",
                "name": "Number of Orders"
              }
            ]
          }
        },
        {
          "name": "Share of Orders With Increased Portions",
          "dataType": "Double",
          "expression": "\n\n[Number of Orders with Increased Portions]/[Number of Orders]",
          "formatString": "0.00\\ %;-0.00\\ %;0.00\\ %",
          "references": {
            "measures": [
              {
                "entity": "Order Measures",
                "name": "Number of Orders with Increased Portions"
              },
              {
                "entity": "Order Measures",
                "name": "Number of Orders"
              }
            ]
          }
        },
        {
          "name": "Share of Orders With Decreased Portions",
          "dataType": "Double",
          "expression": "\n\n[Number of Orders with Decreased Portions]/[Number of Orders]",
          "formatString": "0.00\\ %;-0.00\\ %;0.00\\ %",
          "references": {
            "measures": [
              {
                "entity": "Order Measures",
                "name": "Number of Orders with Decreased Portions"
              },
              {
                "entity": "Order Measures",
                "name": "Number of Orders"
              }
            ]
          }
        }
      ]
    },
    {
      "name": "Customer Measures",
      "measures": [
        {
          "name": "_Local Number of Active Customers % Diff PY",
          "dataType": "Double",
          "expression": "\n    DIVIDE(\n        [Number of Active Subscribers]-[Number of Active Subscribers (PY)],\n        [Number of Active Subscribers (PY)]\n    )",
          "formatString": "0.00\\ %;-0.00\\ %;0.00\\ %",
          "references": {
            "measures": [
              {
                "entity": "Customer Measures",
                "name": "Number of Active Subscribers"
              },
              {
                "entity": "Customer Measures",
                "name": "Number of Active Subscribers (PY)"
              }
            ]
          }
        },
        {
          "name": "_Local Number of Active Customers In Beginning of Period",
          "dataType": "Double",
          "expression": "\nCALCULATE(\n    [Number of Subscribers All Statuses], \n    FILTER(\n        'Dates',\n        Dates[Date]=MIN(Dates[Date])\n    ), \n    'Billing Agreements'[Billing Agreement Status]=\"Active\"\n)",
          "references": {
            "measures": [
              {
                "entity": "Customer Measures",
                "name": "Number of Subscribers All Statuses"
              }
            ]
          }
        },
        {
          "name": "_Local Change in Active Customers",
          "dataType": "Double",
          "expression": "[Number of Active Subscribers]-[_Local Number of Active Customers In Beginning of Period]",
          "references": {
            "measures": [
              {
                "entity": "Customer Measures",
                "name": "Number of Active Subscribers"
              },
              {
                "schema": "extension",
                "entity": "Customer Measures",
                "name": "_Local Number of Active Customers In Beginning of Period"
              }
            ]
          }
        }
      ]
    }
  ]
}
