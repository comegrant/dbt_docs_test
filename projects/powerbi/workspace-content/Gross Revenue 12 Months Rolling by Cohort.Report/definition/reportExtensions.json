{
  "$schema": "https://developer.microsoft.com/json-schemas/fabric/item/report/definition/reportExtension/1.0.0/schema.json",
  "name": "extension",
  "entities": [
    {
      "name": "Customer and Subscriber Details",
      "measures": [
        {
          "name": "Rolling Gross Revenue",
          "dataType": "Double",
          "expression": "CALCULATE([Order Value Gross Ex Vat], ALL('Dates'), DATESINPERIOD('Dates'[Date],MAX('Dates'[Date]),-12, MONTH))",
          "measureTemplate": {
            "daxTemplateName": "RunningTotal",
            "version": 0
          },
          "references": {
            "measures": [
              {
                "entity": "Order Measures",
                "name": "Order Value Gross Ex Vat"
              }
            ]
          }
        },
        {
          "name": "Total Last 12 Months Gross Revenue",
          "dataType": "Double",
          "expression": "\nCALCULATE(\n    [Rolling Gross Revenue], \n    DATESINPERIOD(\n        'Dates'[Date], \n        LASTDATE('Dates'[Date]), \n        -12, \n        MONTH\n    )\n)",
          "references": {
            "measures": [
              {
                "schema": "extension",
                "entity": "Customer and Subscriber Details",
                "name": "Rolling Gross Revenue"
              }
            ]
          }
        }
      ]
    },
    {
      "name": "(Param) Measures",
      "measures": [
        {
          "name": "% sales last 12 months",
          "dataType": "Double",
          "expression": "[Rolling Gross Revenue]/[Total Last 12 Months Gross Revenue]",
          "references": {
            "measures": [
              {
                "schema": "extension",
                "entity": "Customer and Subscriber Details",
                "name": "Rolling Gross Revenue"
              },
              {
                "schema": "extension",
                "entity": "Customer and Subscriber Details",
                "name": "Total Last 12 Months Gross Revenue"
              }
            ]
          }
        }
      ]
    }
  ]
}